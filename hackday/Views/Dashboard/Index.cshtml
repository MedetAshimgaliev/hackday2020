@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewData["Title"] = "Dashboard";
}

<button class="btn btn-primary" id="addCourse">Add course</button>

@if (Model.Count == 0)
{
    <h1>No course available yet...</h1>
}
else
{
    foreach (var course in Model)
    {
        var imagePath = "~/img/"+ ( course.ImageUrl ?? "noimage.jpg" );
        <div class="card" style="width: 18rem;">
            <img src="@imagePath" class="card-img-top" asp-append-version="true" >
            <div class="card-body">
                <h5 class="card-title">@course.Title</h5>
                <p class="card-text">@course.Description</p>
                <a href="#" class="btn btn-primary">Go somewhere</a>
            </div>
        </div>
    }
}





<script src="https://code.jquery.com/jquery-2.2.4.js"
        integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI="
        crossorigin="anonymous"></script>

<script>
    $(document).ready(function () {
        loadAllCources();
        $("#addCourse").on('click', function () {
            location.href = '/Dashboard/addcourse';
        });

    });


    function loadAllCources() {
        $.ajax({
            url: "/Dashboard/GetAllCourses",
            type: "GET",
            success: function (result) {
                console.log('data', result);
                //if (Array.isArray(result) && result.length > 0) {
                //    console.log('data', result);
                //}
            },
            error: function (err) {
                console.log('Error', err);
            }
        });
    };
</script>